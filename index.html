<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="css/bootstrap.css" />
    <title>Game</title>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h2 class="p-5 text-center text-info">
          Rocks - Paper - Scissors Games
        </h2>
      </div>
      <div class="main_body text-center">
        <button class="me-5" onclick="playGame('Rock')">✊</button>
        <button class="me-5" onclick="playGame('Paper')">✋</button>
        <button class="me-5" onclick="playGame('scissors')">✌</button>
        <button
          class="me-5"
          style="font-size: 30px ; background-color: lightblue"
          onmouseover="this.style.backgroundColor='deepskyblue';"
          onmouseout="this.style.backgroundColor='lightblue';"
          onclick="reset()"
        >
          Reset
        </button>
      </div>
    </div>

    <script>
      // localStorage.clear();
      //CREATE A ROCK - PAPER - SCISSORS GAME

      let score = JSON.parse(localStorage.getItem("score")) || {
        win: 0,
        lose: 0,
        draw: 0,
      };

      //Create a reset function

      function reset() {
        score.win = 0;
        score.lose = 0;
        score.draw = 0;

        //Remove item in LocalStorage

        localStorage.removeItem("score");

        //Message to be displayed when the game is reset

        alert(`Score reseted 
         win : ${score.win} , Lose : ${score.lose} , Draw : ${score.draw}`);
      }

      // here we create computer random choice

      let computerMove = "";

      function computerchoice() {
        let randomNumber = Math.random();

        if (randomNumber >= 0 && randomNumber < 1 / 3) {
          computerMove = "rock";
        } else if (randomNumber >= 1 / 3 && randomNumber < 2 / 3) {
          computerMove = "paper";
        } else if (randomNumber >= 2 / 3 && randomNumber < 1) {
          computerMove = "scissors";
        }
        return computerMove;
      }

      //Game general logic

      function playGame(playerMove) {
        let computerMove = computerchoice();
        let result = "";

        if (playerMove === "Rock") {
          if (computerMove === "rock") {
            result = "It's a tie!";
          } else if (computerMove === "paper") {
            result = "You lose!";
          } else if (computerMove === "scissors") {
            result = "You win!";
          }
        } else if (playerMove === "Paper") {
          if (computerMove === "rock") {
            result = "You win!";
          } else if (computerMove === "paper") {
            result = "It's a tie!";
          } else if (computerMove === "scissors") {
            result = "You lose!";
          }
        } else if (playerMove === "scissors") {
          if (computerMove === "rock") {
            result = "You lose!";
          } else if (computerMove === "paper") {
            result = "You win!";
          } else if (computerMove === "scissors") {
            result = "It's a tie!";
          }
        }

        //Create a score board

        if (result === "You win!") {
          score.win += 1;
        } else if (result === "You lose!") {
          score.lose += 1;
        } else if (result === "It's a tie!") {
          score.draw += 1;
        }

        //Save the score

        localStorage.setItem("score", JSON.stringify(score));

        // Create a PopUp

        alert(`You chose ${playerMove}, Computer chose ${computerMove}. so ${result}
        win : ${score.win} , Lose : ${score.lose} , Draw : ${score.draw} 
        `);
      }
    </script>
  </body>
</html>
